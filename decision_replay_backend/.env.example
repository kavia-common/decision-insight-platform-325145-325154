# Backend runtime configuration (Decision Replay API)
# Copy to .env for local development. Do NOT commit secrets.

# --- Server ---
NODE_ENV=development
HOST=0.0.0.0
PORT=3001
TRUST_PROXY=true

# --- CORS ---
# In preview, set this to the frontend preview origin.
# Example:
# ALLOWED_ORIGINS=https://vscode-internal-xxxxx.beta01.cloud.kavia.ai:3000
ALLOWED_ORIGINS=*

# Optional overrides
ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-Request-Id
EXPOSED_HEADERS=X-Request-Id
CORS_MAX_AGE=3600

# --- Auth ---
ACCESS_TOKEN_TTL_MIN=1440
PASSWORD_SALT_ROUNDS=10

# --- Postgres (provided by the platform DB container in preview) ---
# Prefer POSTGRES_URL when available.
# If POSTGRES_URL is not set, you MUST provide the discrete vars below.
POSTGRES_URL=
POSTGRES_HOST=
POSTGRES_PORT=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=

# Pool tuning (optional)
PG_POOL_MAX=10
PG_IDLE_TIMEOUT_MS=30000
PG_STATEMENT_TIMEOUT_MS=15000
